@model LMSweb.ViewModel.ReflectionViewModel
@{
    ViewBag.Title = "StudentReflection";
    Layout = "~/Views/Shared/_StudentLayout.cshtml";
}
<div class="article">

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <h5>自我反思</h5>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.CID)
            @Html.HiddenFor(model => model.MID)
            <table id="table_id" class="table table-striped">
                <thead>
                    <tr>
                        <th>
                            #
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Questions.First().Description)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Questions.First().Options)
                        </th>
                    </tr>
                </thead>
                <tbody id="number">

                    @foreach (var Q in Model.Questions)
                    {
                        <tr>
                            <td>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => Q.Description)
                            </td>
                            <td>
                                @if (Q.Type == "單選")
                                {
                                    foreach (var qo in Q.Options)
                                    {
                                        if (qo.QID == Q.QID)
                                        {
                                            <input class="form-check-input" type="radio" value="" id="flexCheckDefault">@qo.OptionName

                                        }
                                    }
                                }
                                else if (Q.Type == "多選")
                                {
                                    foreach (var qo in Q.Options)
                                    {
                                        if (qo.QID == Q.QID)
                                        {
                                            <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="flexRadioDefault1">@qo.OptionName

                                        }
                                    }
                                }
                                else
                                {
                                    <input class="form-control" type="text" />
                                }
                            </td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    }

</div>
@section scripts
{
    <script>
        window.onload = function () {
            var tableLine = document.getElementById("number");
            for (var i = 0; i < tableLine.rows.length; i++) {
                tableLine.rows[i].cells[0].innerHTML = (i + 1);

            }
        }
    </script>
}